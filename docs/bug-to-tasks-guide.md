# Bug to Tasks Generator 사용 가이드

> 운영/테스트 인력이 보고한 버그를 AI가 자동으로 분석하여 개발 작업(Task)으로 변환하는 시스템

## 📋 목차

1. [개요](#개요)
2. [기존 Epic to Tasks와의 차이점](#기존-epic-to-tasks와의-차이점)
3. [사용 방법](#사용-방법)
4. [버그 리포트 작성 가이드](#버그-리포트-작성-가이드)
5. [워크플로우 실행](#워크플로우-실행)
6. [AI 분석 결과 이해하기](#ai-분석-결과-이해하기)
7. [트러블슈팅](#트러블슈팅)

---

## 개요

### 🎯 목적

- 비엔지니어(운영/테스트 인력)도 쉽게 버그 리포트 작성
- AI가 현상 기반 리포트를 기술적 작업으로 자동 변환
- 긴급도/우선순위 자동 계산으로 빠른 대응

### 🔄 프로세스 흐름

```
운영/테스트 인력 → Bug Report 작성
                ↓
         Bug to Tasks 워크플로우 실행
                ↓
           Claude AI 분석
                ↓
      기술적 Task 자동 생성
                ↓
         개발자에게 할당
```

---

## 기존 Epic to Tasks와의 차이점

| 구분            | Epic to Tasks         | Bug to Tasks           |
| --------------- | --------------------- | ---------------------- |
| **목적**        | 계획된 기능 개발      | 긴급 문제 해결         |
| **작성자**      | 기획자/PM             | 운영/테스트 인력       |
| **작성 난이도** | 중간 (기술 이해 필요) | **낮음 (현상만 기술)** |
| **필수 정보**   | 사용자 스토리 3개+    | 문제 현상 + 긴급도     |
| **우선순위**    | 스프린트 계획         | **자동 계산**          |
| **SLA**         | 수동 설정             | **자동 설정**          |

**핵심**: Epic은 "계획", Bug는 "대응"

---

## 사용 방법

### Step 1: Bug Report 작성

1. GitHub Issues → **New Issue** 클릭
2. **"버그/장애 신고 (운영용)"** 템플릿 선택
3. 아래 가이드에 따라 작성
4. Issue 생성 후 **이슈 번호 확인** (예: #123)

### Step 2: Bug to Tasks 워크플로우 실행

1. **Actions** 탭으로 이동
2. 왼쪽에서 **"Bug to Tasks Generator"** 선택
3. **Run workflow** 클릭
4. 입력값 설정:
   - **타겟 레포지토리**: 버그가 발생한 레포 선택
   - **Bug 이슈 번호**: Step 1에서 확인한 번호 입력
   - **담당자 자동 할당**: 기본값 (true)
   - **테스트 모드**: 처음엔 true로 테스트 권장

5. **Run workflow** 실행

### Step 3: 결과 확인

**테스트 모드 (dry_run=true)**:

- Artifacts에서 `bug-tasks-results` 다운로드
- `bug-tasks-output.json` 파일 확인
- 생성될 Task 미리보기

**실제 실행 (dry_run=false)**:

- GitHub Issues에 Task 자동 생성
- 원본 Bug 이슈에 분석 결과 코멘트 추가
- 생성된 Task 링크 자동 연결

---

## 버그 리포트 작성 가이드

### ✅ 좋은 예시

```markdown
## 🚨 무엇이 문제인가요?

포인트 충전 후 잔액이 업데이트되지 않음

## 📍 어디서 발생했나요?

- [x] 웹사이트 (마이페이지 → 포인트 충전)

## 🔄 어떻게 하면 문제가 생기나요?

1. 로그인
2. 마이페이지 → 포인트 충전 클릭
3. 1000원 결제
4. 결제 완료 후 마이페이지로 돌아옴

## ❌ 무슨 일이 일어났나요?

- 결제는 성공했는데 포인트 잔액이 그대로임
- 새로고침해도 변화 없음
- 다시 로그인하면 정상 표시됨

## ✅ 원래는 어떻게 되어야 하나요?

- 결제 완료 즉시 잔액 업데이트되어야 함
- 새로고침 없이 바로 반영

## ⚠️ 얼마나 급한가요?

- [x] 🚨 높음 - 주요 기능 동작 불가

## 📊 얼마나 자주 발생하나요?

- [x] 항상 (100% 재현)
```

### ❌ 나쁜 예시

```markdown
## 🚨 무엇이 문제인가요?

포인트가 이상함

## ❌ 무슨 일이 일어났나요?

안됨

## ✅ 원래는 어떻게 되어야 하나요?

되어야 함
```

**왜 나쁜가?**

- 구체적인 상황 설명 없음
- 재현 방법 없음
- 기대 동작 불명확

### 💡 작성 팁

1. **구체적으로 쓰기**
   - ✅ "로그인 버튼 클릭 시 화면 멈춤"
   - ❌ "로그인 안됨"

2. **재현 단계 명확히**
   - 1, 2, 3 단계로 구체적으로
   - 누가 따라해도 같은 결과가 나와야 함

3. **스크린샷 활용**
   - 에러 메시지, 이상한 화면 캡처
   - 정상 vs 비정상 비교 이미지

4. **긴급도 정확히**
   - 🔥 긴급: 서비스 중단
   - 🚨 높음: 주요 기능 불가
   - ⚡ 보통: 일부 기능 오류
   - 📌 낮음: 불편하지만 사용 가능

---

## 워크플로우 실행

### 입력 파라미터 설명

#### 타겟 레포지토리

- `cm-land`, `cm-cointalk`, `cm-office`, `cm-jungchipan`, `cm-template` 중 선택
- 버그가 발생한 커뮤니티/레포 선택

#### Bug 이슈 번호

- 생성한 Bug Report의 이슈 번호
- 예: `123` (# 기호 제외)

#### 담당자 자동 할당

- `true`: 위치(frontend/backend) 기반 자동 할당
- `false`: 수동 할당 (나중에 직접 지정)

#### 테스트 모드 (dry_run)

- `true`: 실제 Issue 생성 안함, 결과만 확인
- `false`: 실제 Issue 생성

### 실행 단계

1. **테스트 실행 (권장)**

   ```
   dry_run: true
   ```

   - Artifacts 다운로드
   - `bug-tasks-output.json` 검토
   - 생성될 Task 확인

2. **결과 만족 시 실제 실행**
   ```
   dry_run: false
   ```

   - GitHub Issues에 Task 생성
   - 원본 Bug에 분석 결과 추가

---

## AI 분석 결과 이해하기

### 분석 결과 구조

```json
{
  "analysis_summary": "로그인 API 호출 시 비동기 처리 부재로 인한 UI 블로킹",
  "root_cause_hypothesis": ["비동기 API 호출 중 로딩 상태 관리 부재", "에러 핸들링 누락"],
  "severity_assessment": {
    "calculated_priority": "P1",
    "sla": "24시간 내 수정",
    "impact": "핵심 기능 영향"
  },
  "tasks": [
    {
      "title": "[Fix] 로그인 API 호출 시 로딩 상태 추가",
      "template": "bug_fix",
      "priority": "P1",
      "urgency": "high",
      "estimated_points": 3,
      "description": "...",
      "technical_details": {
        "affected_files": ["LoginForm.tsx", "auth.ts"],
        "requirements": ["로딩 상태 추가", "에러 핸들링"],
        "test_requirements": ["정상 로그인", "에러 시나리오"]
      }
    }
  ]
}
```

### 우선순위 매트릭스

| 긴급도 \ 빈도 | 항상               | 자주               | 가끔               | 한번               |
| ------------- | ------------------ | ------------------ | ------------------ | ------------------ |
| **🔥 긴급**   | P0 (4시간)         | P0 (4시간)         | P1 (24시간)        | P2 (이번 주)       |
| **🚨 높음**   | P1 (24시간)        | P1 (24시간)        | P2 (이번 주)       | P3 (다음 스프린트) |
| **⚡ 보통**   | P2 (이번 주)       | P2 (이번 주)       | P3 (다음 스프린트) | P4 (백로그)        |
| **📌 낮음**   | P3 (다음 스프린트) | P3 (다음 스프린트) | P4 (백로그)        | P4 (백로그)        |

### 생성되는 Task 유형

1. **[Fix] 버그 수정 Task** (필수)
   - 실제 버그를 고치는 작업
   - 영향받는 파일, 구현 요구사항 포함

2. **[Test] 테스트 Task** (선택)
   - 버그 재현 테스트
   - 회귀 테스트 시나리오

3. **[Docs] 문서화 Task** (선택)
   - 예방 가이드
   - 트러블슈팅 문서

---

## 트러블슈팅

### 문제: 워크플로우 실행 실패

**증상**: "Epic을 가져올 수 없습니다" 에러

**해결**:

1. Bug 이슈 번호가 정확한지 확인
2. 타겟 레포지토리가 올바른지 확인
3. Bug Report가 실제로 생성되었는지 확인

### 문제: Task가 생성되지 않음

**증상**: "생성할 Task가 없습니다" 메시지

**해결**:

1. Bug Report 내용이 충분한지 확인:
   - 재현 방법 작성됨?
   - 긴급도 선택됨?
   - 현상 설명이 구체적인가?

2. dry_run 모드로 먼저 테스트:
   - `bug-tasks-output.json` 파일 확인
   - AI 응답 내용 검토

### 문제: 우선순위가 예상과 다름

**증상**: P0으로 예상했는데 P2로 계산됨

**해결**:

- 긴급도와 빈도를 다시 확인
- 우선순위 매트릭스 참고
- 필요시 생성된 Task의 Priority 수동 변경

### 문제: ANTHROPIC_API_KEY 에러

**증상**: "ANTHROPIC_API_KEY가 설정되지 않음"

**해결**:

```bash
# 각 레포지토리에 Secret 설정 필요
gh secret set ANTHROPIC_API_KEY --repo semicolon-devteam/REPO_NAME
```

---

## 📞 지원

### 문의

- **Scrum Master**: Bug to Tasks 프로세스 관련
- **DevOps**: 워크플로우 실행 오류
- **Tech Lead**: 생성된 Task 검토

### 참고 문서

- [Epic to Tasks 가이드](./epic-to-tasks-guide.md)
- [이슈 템플릿 가이드](./issue-templates-guide.md)
- [GitHub Actions 워크플로우](../.github/workflows/README.md)

---

_🏃 Created by Scrum Master - Bug to Tasks Generator v1.0_
