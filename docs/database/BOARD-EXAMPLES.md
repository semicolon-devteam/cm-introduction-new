# ğŸ“‹ Board & Category êµ¬ì„± ê°€ì´ë“œ

> **ëª©ì **: cm-templateì„ ë‹¤ë¥¸ ì»¤ë®¤ë‹ˆí‹° ê°œë°œì˜ í…œí”Œë¦¿ìœ¼ë¡œ í™œìš©í•˜ê¸° ìœ„í•œ ë‹¤ì–‘í•œ ê²Œì‹œíŒ ì˜ˆì‹œ ì œê³µ

## ğŸ¯ ìƒ˜í”Œ Board êµ¬ì„± ê°œìš”

ì´ **8ê°œì˜ ìƒ˜í”Œ ê²Œì‹œíŒ**ì„ í†µí•´ ë‹¤ìŒ ì¼€ì´ìŠ¤ë“¤ì„ ì‹œì—°í•©ë‹ˆë‹¤:

1. **ê¶Œí•œ ë ˆë²¨ ë‹¤ì–‘ì„±**: ë¹„íšŒì› ì‘ì„± ê°€ëŠ¥ ~ ê³ ë ˆë²¨ íšŒì› ì „ìš©
2. **ê¸°ëŠ¥ ì¡°í•©**: ì¹´í…Œê³ ë¦¬, íŒŒì¼ ì—…ë¡œë“œ, ë¹„ë°€ê¸€, ëŒ“ê¸€ ë“±
3. **í¬ì¸íŠ¸ ì •ì±…**: ë¬´ë£Œ ~ ìœ ë£Œ ë‹¤ìš´ë¡œë“œ, ì‘ì„± í¬ì¸íŠ¸ ì°¨ë“±
4. **ê°€ì‹œì„± ë ˆë²¨**: public, private, hidden
5. **íŒŒì¼ ì—…ë¡œë“œ**: ì´ë¯¸ì§€ ì „ìš© ~ ëŒ€ìš©ëŸ‰ ë™ì˜ìƒ ì§€ì›

---

## ğŸ“Š Board ìƒì„¸ êµ¬ì„±

### 1ï¸âƒ£ ê³µì§€ì‚¬í•­ (ID: 100)

**ì‹œì—° ì¼€ì´ìŠ¤**: ê´€ë¦¬ì ì „ìš© ì“°ê¸°, ëª¨ë‘ ì½ê¸° ê°€ëŠ¥

| ì†ì„±            | ê°’                           | ì˜ë¯¸                        |
| --------------- | ---------------------------- | --------------------------- |
| visibility      | `public`                     | ëˆ„êµ¬ë‚˜ ëª©ë¡ ì¡°íšŒ ê°€ëŠ¥       |
| list_level      | 1                            | ë¹„íšŒì›ë„ ëª©ë¡ ë³¼ ìˆ˜ ìˆìŒ    |
| read_level      | 1                            | ë¹„íšŒì›ë„ ê¸€ ì½ì„ ìˆ˜ ìˆìŒ    |
| write_level     | 99                           | ê´€ë¦¬ìë§Œ ê¸€ ì‘ì„± ê°€ëŠ¥       |
| comment_level   | 2                            | íšŒì›ë§Œ ëŒ“ê¸€ ê°€ëŠ¥            |
| upload_level    | 99                           | ê´€ë¦¬ìë§Œ íŒŒì¼ ì—…ë¡œë“œ        |
| use_category    | false                        | ì¹´í…Œê³ ë¦¬ ë¯¸ì‚¬ìš©             |
| use_secret      | false                        | ë¹„ë°€ê¸€ ë¯¸ì‚¬ìš©               |
| use_file_upload | true                         | íŒŒì¼ ì—…ë¡œë“œ ê°€ëŠ¥ (ê´€ë¦¬ìë§Œ) |
| max_file_size   | 10MB                         | ìµœëŒ€ íŒŒì¼ í¬ê¸°              |
| allowed_types   | `image/*`, `application/pdf` | ì´ë¯¸ì§€, PDFë§Œ í—ˆìš©          |
| max_files       | 5                            | ìµœëŒ€ 5ê°œ íŒŒì¼ ì²¨ë¶€          |

**í¬ì¸íŠ¸ ì •ì±…**: ëª¨ë“  í™œë™ 0pt (ê³µì§€ì‚¬í•­ì€ í¬ì¸íŠ¸ ì—†ìŒ)

**ì ìš© ì‚¬ë¡€**:

- ìš´ì˜ ê³µì§€ì‚¬í•­
- ì—…ë°ì´íŠ¸ ê³µì§€
- ì´ë²¤íŠ¸ ê³µì§€

---

### 2ï¸âƒ£ ììœ ê²Œì‹œíŒ (ID: 200)

**ì‹œì—° ì¼€ì´ìŠ¤**: ë¹„íšŒì›ë„ ê¸€/ëŒ“ê¸€ ì‘ì„± ê°€ëŠ¥ (ê°œë°©í˜•)

| ì†ì„±            | ê°’                       | ì˜ë¯¸                       |
| --------------- | ------------------------ | -------------------------- |
| visibility      | `public`                 | ê³µê°œ ê²Œì‹œíŒ                |
| list_level      | 1                        | ë¹„íšŒì›ë„ ëª©ë¡ ì¡°íšŒ         |
| read_level      | 1                        | ë¹„íšŒì›ë„ ê¸€ ì½ê¸°           |
| write_level     | 1                        | ë¹„íšŒì›ë„ ê¸€ ì‘ì„± ê°€ëŠ¥ â­   |
| comment_level   | 1                        | ë¹„íšŒì›ë„ ëŒ“ê¸€ ì‘ì„± ê°€ëŠ¥ â­ |
| upload_level    | 2                        | íšŒì›ë§Œ íŒŒì¼ ì—…ë¡œë“œ         |
| use_category    | false                    | ì¹´í…Œê³ ë¦¬ ë¯¸ì‚¬ìš©            |
| use_secret      | false                    | ë¹„ë°€ê¸€ ë¯¸ì‚¬ìš©              |
| use_file_upload | true                     | íŒŒì¼ ì—…ë¡œë“œ ê°€ëŠ¥ (íšŒì›ë§Œ)  |
| forbidden_words | `['ê¸ˆì§€ì–´1', 'ê¸ˆì§€ì–´2']` | ê¸ˆì§€ì–´ í•„í„°ë§ â­           |
| max_file_size   | 5MB                      | ì¼ë°˜ì ì¸ íŒŒì¼ í¬ê¸° ì œí•œ    |
| allowed_types   | `image/*`                | ì´ë¯¸ì§€ë§Œ í—ˆìš©              |

**í¬ì¸íŠ¸ ì •ì±…**:

- ê¸€ ì‘ì„±: +10pt
- ëŒ“ê¸€ ì‘ì„±: +2pt
- íŒŒì¼ ë‹¤ìš´ë¡œë“œ: -5pt
- ì¢‹ì•„ìš”: +1pt

**ì ìš© ì‚¬ë¡€**:

- ììœ  í† ë¡  ê²Œì‹œíŒ
- ì¼ë°˜ ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ
- ìµëª… ê²Œì‹œíŒ

---

### 3ï¸âƒ£ ì •ë³´ê³µìœ  (ID: 300)

**ì‹œì—° ì¼€ì´ìŠ¤**: ì¹´í…Œê³ ë¦¬ í™œìš© + ë‹¤ì–‘í•œ íŒŒì¼ íƒ€ì… ì§€ì›

| ì†ì„±            | ê°’                      | ì˜ë¯¸                |
| --------------- | ----------------------- | ------------------- |
| visibility      | `public`                | ê³µê°œ ê²Œì‹œíŒ         |
| list_level      | 1                       | ë¹„íšŒì›ë„ ëª©ë¡ ì¡°íšŒ  |
| read_level      | 1                       | ë¹„íšŒì›ë„ ê¸€ ì½ê¸°    |
| write_level     | 2                       | íšŒì›ë§Œ ê¸€ ì‘ì„± ê°€ëŠ¥ |
| comment_level   | 2                       | íšŒì›ë§Œ ëŒ“ê¸€ ê°€ëŠ¥    |
| upload_level    | 2                       | íšŒì›ë§Œ íŒŒì¼ ì—…ë¡œë“œ  |
| use_category    | true                    | ì¹´í…Œê³ ë¦¬ ì‚¬ìš© â­    |
| use_secret      | false                   | ë¹„ë°€ê¸€ ë¯¸ì‚¬ìš©       |
| use_file_upload | true                    | íŒŒì¼ ì—…ë¡œë“œ ê°€ëŠ¥    |
| max_file_size   | 10MB                    | ì¤‘ê°„ í¬ê¸° íŒŒì¼      |
| allowed_types   | `image/*`, `pdf`, `zip` | ë‹¤ì–‘í•œ íŒŒì¼ íƒ€ì… â­ |
| max_files       | 5                       | ìµœëŒ€ 5ê°œ íŒŒì¼       |

**ì¹´í…Œê³ ë¦¬ êµ¬ì„±** (5ê°œ):

1. IT/í”„ë¡œê·¸ë˜ë°
2. ìƒí™œì •ë³´
3. ê±´ê°•/ìš´ë™
4. ì¬í…Œí¬
5. ê¸°íƒ€

**í¬ì¸íŠ¸ ì •ì±…**:

- ê¸€ ì‘ì„±: +20pt (ë†’ì€ í¬ì¸íŠ¸ë¡œ ì–‘ì§ˆì˜ ì½˜í…ì¸  ì¥ë ¤)
- ëŒ“ê¸€: +5pt
- íŒŒì¼ ë‹¤ìš´ë¡œë“œ: -10pt
- ì¢‹ì•„ìš”: +2pt
- ì‹«ì–´ìš”: -1pt

**ì ìš© ì‚¬ë¡€**:

- ì •ë³´ ê³µìœ  ê²Œì‹œíŒ
- ì§€ì‹ ë² ì´ìŠ¤
- íŠœí† ë¦¬ì–¼/ê°€ì´ë“œ ê²Œì‹œíŒ

---

### 4ï¸âƒ£ íŒŒì¼ìë£Œì‹¤ (ID: 400)

**ì‹œì—° ì¼€ì´ìŠ¤**: ëŒ€ìš©ëŸ‰ íŒŒì¼ ì—…ë¡œë“œ + ìœ ë£Œ ë‹¤ìš´ë¡œë“œ

| ì†ì„±            | ê°’                                        | ì˜ë¯¸                    |
| --------------- | ----------------------------------------- | ----------------------- |
| visibility      | `public`                                  | ê³µê°œ ê²Œì‹œíŒ             |
| list_level      | 1                                         | ë¹„íšŒì›ë„ ëª©ë¡ ì¡°íšŒ      |
| read_level      | 1                                         | ë¹„íšŒì›ë„ ê¸€ ì½ê¸°        |
| write_level     | 2                                         | íšŒì›ë§Œ ê¸€ ì‘ì„±          |
| comment_level   | 2                                         | íšŒì›ë§Œ ëŒ“ê¸€             |
| upload_level    | 3                                         | ë ˆë²¨ 3 ì´ìƒë§Œ ì—…ë¡œë“œ â­ |
| use_category    | true                                      | ì¹´í…Œê³ ë¦¬ ì‚¬ìš©           |
| use_secret      | false                                     | ë¹„ë°€ê¸€ ë¯¸ì‚¬ìš©           |
| use_file_upload | true                                      | íŒŒì¼ ì—…ë¡œë“œ í•„ìˆ˜        |
| max_file_size   | 50MB                                      | ëŒ€ìš©ëŸ‰ íŒŒì¼ ì§€ì› â­     |
| allowed_types   | `image/*`, `pdf`, `zip`, `rar`, `video/*` | ëª¨ë“  ì£¼ìš” íƒ€ì… â­       |
| max_files       | 10                                        | ìµœëŒ€ 10ê°œ íŒŒì¼ â­       |

**ì¹´í…Œê³ ë¦¬ êµ¬ì„±** (4ê°œ):

1. ë¬¸ì„œìë£Œ
2. ì´ë¯¸ì§€/ë””ìì¸
3. ë™ì˜ìƒ
4. ì••ì¶•íŒŒì¼

**í¬ì¸íŠ¸ ì •ì±…**:

- ê¸€ ì‘ì„±: +30pt (ë†’ì€ ì‘ì„± í¬ì¸íŠ¸)
- ëŒ“ê¸€: +5pt
- íŒŒì¼ ë‹¤ìš´ë¡œë“œ: -20pt (ìœ ë£Œ ë‹¤ìš´ë¡œë“œ ëª¨ë¸) â­
- ì¢‹ì•„ìš”: +3pt

**ì ìš© ì‚¬ë¡€**:

- íŒŒì¼ ìë£Œì‹¤
- ë””ìì¸ ë¦¬ì†ŒìŠ¤ ê³µìœ 
- ê°•ì˜ ìë£Œ ê²Œì‹œíŒ

---

### 5ï¸âƒ£ 1:1ë¬¸ì˜ (ID: 500)

**ì‹œì—° ì¼€ì´ìŠ¤**: ë¹„ë°€ê¸€ ê¸°ëŠ¥ + ê´€ë¦¬ì ì „ìš© ë‹µë³€

| ì†ì„±            | ê°’               | ì˜ë¯¸                             |
| --------------- | ---------------- | -------------------------------- |
| visibility      | `public`         | ê³µê°œ (ëª©ë¡ì€ íšŒì›ë§Œ)             |
| list_level      | 2                | íšŒì›ë§Œ ëª©ë¡ ì¡°íšŒ                 |
| read_level      | 2                | íšŒì›ë§Œ ê¸€ ì½ê¸° (ë³¸ì¸ + ê´€ë¦¬ì)   |
| write_level     | 2                | íšŒì›ë§Œ ê¸€ ì‘ì„±                   |
| comment_level   | 99               | ê´€ë¦¬ìë§Œ ëŒ“ê¸€ ê°€ëŠ¥ â­            |
| upload_level    | 2                | íšŒì›ë§Œ íŒŒì¼ ì—…ë¡œë“œ               |
| use_category    | true             | ì¹´í…Œê³ ë¦¬ ì‚¬ìš© (ë¬¸ì˜ ìœ í˜• ë¶„ë¥˜)   |
| use_secret      | true             | ë¹„ë°€ê¸€ ê¸°ëŠ¥ â­                   |
| use_comments    | false            | ëŒ“ê¸€ ë¹„í™œì„±í™” (ê´€ë¦¬ì ë‹µë³€ìš©) â­ |
| use_file_upload | true             | íŒŒì¼ ì²¨ë¶€ ê°€ëŠ¥                   |
| max_file_size   | 10MB             | ìŠ¤í¬ë¦°ìƒ· ì²¨ë¶€ìš©                  |
| allowed_types   | `image/*`, `pdf` | ì´ë¯¸ì§€, PDFë§Œ                    |

**ì¹´í…Œê³ ë¦¬ êµ¬ì„±** (5ê°œ):

1. ì„œë¹„ìŠ¤ë¬¸ì˜
2. ê¸°ìˆ ì§€ì›
3. ê²°ì œë¬¸ì˜
4. ì œì•ˆ/ê±´ì˜
5. ê¸°íƒ€

**í¬ì¸íŠ¸ ì •ì±…**: ëª¨ë“  í™œë™ 0pt (ê³ ê° ë¬¸ì˜ëŠ” ë¬´ë£Œ)

**ì ìš© ì‚¬ë¡€**:

- 1:1 ë¬¸ì˜ ê²Œì‹œíŒ
- ê³ ê° ì§€ì› ì„¼í„°
- ê°œì¸ ìƒë‹´ ê²Œì‹œíŒ

---

### 6ï¸âƒ£ íšŒì›ì „ìš© (ID: 600)

**ì‹œì—° ì¼€ì´ìŠ¤**: Private ê²Œì‹œíŒ (íšŒì›ë§Œ ì ‘ê·¼)

| ì†ì„±            | ê°’                      | ì˜ë¯¸               |
| --------------- | ----------------------- | ------------------ |
| visibility      | `private`               | ë¹„ê³µê°œ ê²Œì‹œíŒ â­   |
| list_level      | 2                       | íšŒì›ë§Œ ëª©ë¡ ì¡°íšŒ   |
| read_level      | 2                       | íšŒì›ë§Œ ê¸€ ì½ê¸°     |
| write_level     | 2                       | íšŒì›ë§Œ ê¸€ ì‘ì„±     |
| comment_level   | 2                       | íšŒì›ë§Œ ëŒ“ê¸€        |
| upload_level    | 2                       | íšŒì›ë§Œ íŒŒì¼ ì—…ë¡œë“œ |
| use_category    | false                   | ì¹´í…Œê³ ë¦¬ ë¯¸ì‚¬ìš©    |
| use_secret      | true                    | ë¹„ë°€ê¸€ ê¸°ëŠ¥ ì‚¬ìš©   |
| use_file_upload | true                    | íŒŒì¼ ì—…ë¡œë“œ ê°€ëŠ¥   |
| max_file_size   | 20MB                    | í”„ë¦¬ë¯¸ì—„ íŒŒì¼ í¬ê¸° |
| allowed_types   | `image/*`, `pdf`, `zip` | ì£¼ìš” íŒŒì¼ íƒ€ì…     |

**í¬ì¸íŠ¸ ì •ì±…**:

- ê¸€ ì‘ì„±: +50pt (í”„ë¦¬ë¯¸ì—„ í¬ì¸íŠ¸) â­
- ëŒ“ê¸€: +10pt
- íŒŒì¼ ë‹¤ìš´ë¡œë“œ: -15pt
- ì¢‹ì•„ìš”: +5pt

**ì ìš© ì‚¬ë¡€**:

- íšŒì› ì „ìš© ê²Œì‹œíŒ
- í”„ë¦¬ë¯¸ì—„ ì½˜í…ì¸  ê³µìœ 
- í´ëŸ½/ê·¸ë£¹ ê²Œì‹œíŒ

---

### 7ï¸âƒ£ ê°¤ëŸ¬ë¦¬ (ID: 700)

**ì‹œì—° ì¼€ì´ìŠ¤**: ì´ë¯¸ì§€ ì „ìš© ê²Œì‹œíŒ

| ì†ì„±            | ê°’        | ì˜ë¯¸                               |
| --------------- | --------- | ---------------------------------- |
| visibility      | `public`  | ê³µê°œ ê²Œì‹œíŒ                        |
| list_level      | 1         | ë¹„íšŒì›ë„ ëª©ë¡ ì¡°íšŒ                 |
| read_level      | 1         | ë¹„íšŒì›ë„ ì´ë¯¸ì§€ ì¡°íšŒ               |
| write_level     | 2         | íšŒì›ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥                 |
| comment_level   | 2         | íšŒì›ë§Œ ëŒ“ê¸€                        |
| upload_level    | 2         | íšŒì›ë§Œ íŒŒì¼ ì—…ë¡œë“œ                 |
| use_category    | true      | ì¹´í…Œê³ ë¦¬ ì‚¬ìš© (ì‚¬ì§„ ì£¼ì œë³„)        |
| use_secret      | false     | ë¹„ë°€ê¸€ ë¯¸ì‚¬ìš©                      |
| use_editor      | false     | ì—ë””í„° ë¹„í™œì„±í™” â­ (ê°„ë‹¨í•œ ì„¤ëª…ë§Œ) |
| use_file_upload | true      | ì´ë¯¸ì§€ ì—…ë¡œë“œ í•„ìˆ˜                 |
| max_file_size   | 10MB      | ê³ í™”ì§ˆ ì´ë¯¸ì§€ ì§€ì›                 |
| allowed_types   | `image/*` | ì´ë¯¸ì§€ë§Œ í—ˆìš© â­                   |
| max_files       | 10        | ìµœëŒ€ 10ê°œ ì´ë¯¸ì§€ â­                |
| posts_per_page  | 30        | ê°¤ëŸ¬ë¦¬ ë ˆì´ì•„ì›ƒ (ë” ë§ì´ í‘œì‹œ) â­  |

**ì¹´í…Œê³ ë¦¬ êµ¬ì„±** (5ê°œ):

1. í’ê²½/ì—¬í–‰
2. ì¸ë¬¼
3. ë™ë¬¼
4. ì¼ìƒ
5. ê¸°íƒ€

**í¬ì¸íŠ¸ ì •ì±…**:

- ê¸€ ì‘ì„±: +15pt
- ëŒ“ê¸€: +3pt
- íŒŒì¼ ë‹¤ìš´ë¡œë“œ: -5pt
- ì¢‹ì•„ìš”: +2pt

**ì ìš© ì‚¬ë¡€**:

- ì‚¬ì§„ ê°¤ëŸ¬ë¦¬
- í¬í† í´ë¦¬ì˜¤
- ì´ë¯¸ì§€ ê³µìœ  ì»¤ë®¤ë‹ˆí‹°

---

### 8ï¸âƒ£ VIPë¼ìš´ì§€ (ID: 800)

**ì‹œì—° ì¼€ì´ìŠ¤**: Hidden ê²Œì‹œíŒ + ê³ ë ˆë²¨ íšŒì› ì „ìš©

| ì†ì„±            | ê°’                                    | ì˜ë¯¸                                |
| --------------- | ------------------------------------- | ----------------------------------- |
| visibility      | `hidden`                              | ìˆ¨ê¹€ ê²Œì‹œíŒ â­ (ëª©ë¡ì—ë„ í‘œì‹œ ì•ˆë¨) |
| list_level      | 5                                     | ë ˆë²¨ 5 ì´ìƒë§Œ ì¡°íšŒ â­               |
| read_level      | 5                                     | ë ˆë²¨ 5 ì´ìƒë§Œ ì½ê¸°                  |
| write_level     | 5                                     | ë ˆë²¨ 5 ì´ìƒë§Œ ì‘ì„±                  |
| comment_level   | 5                                     | ë ˆë²¨ 5 ì´ìƒë§Œ ëŒ“ê¸€                  |
| upload_level    | 5                                     | ë ˆë²¨ 5 ì´ìƒë§Œ ì—…ë¡œë“œ                |
| use_category    | false                                 | ì¹´í…Œê³ ë¦¬ ë¯¸ì‚¬ìš©                     |
| use_secret      | true                                  | ë¹„ë°€ê¸€ ê¸°ëŠ¥ ì‚¬ìš©                    |
| use_file_upload | true                                  | íŒŒì¼ ì—…ë¡œë“œ ê°€ëŠ¥                    |
| max_file_size   | 100MB                                 | ëŒ€ìš©ëŸ‰ íŒŒì¼ ì§€ì› â­                 |
| allowed_types   | `image/*`, `video/*`, `application/*` | ëª¨ë“  íŒŒì¼ íƒ€ì… â­                   |
| max_files       | 20                                    | ìµœëŒ€ 20ê°œ íŒŒì¼ â­                   |

**í¬ì¸íŠ¸ ì •ì±…**:

- ê¸€ ì‘ì„±: +100pt (ìµœê³  í¬ì¸íŠ¸) â­
- ëŒ“ê¸€: +20pt
- íŒŒì¼ ë‹¤ìš´ë¡œë“œ: 0pt (VIP ë¬´ë£Œ)
- ì¢‹ì•„ìš”: +10pt

**ì ìš© ì‚¬ë¡€**:

- VIP ì „ìš© ë¼ìš´ì§€
- í”„ë¦¬ë¯¸ì—„ ë©¤ë²„ì‹­ ê²Œì‹œíŒ
- ê³ ê¸‰ ì •ë³´ ê³µìœ  ê³µê°„

---

## ğŸ”§ ì ìš© ë°©ë²•

### 1ï¸âƒ£ Supabaseì— ìƒ˜í”Œ ë°ì´í„° ì ìš©

```bash
# 1. SQL íŒŒì¼ í™•ì¸
cat docs/database/sample-boards.sql

# 2. Supabase SQL Editorì—ì„œ ì‹¤í–‰
# - Supabase Dashboard â†’ SQL Editor ì´ë™
# - sample-boards.sql ë‚´ìš© ë³µì‚¬/ë¶™ì—¬ë„£ê¸°
# - Run í´ë¦­
```

### 2ï¸âƒ£ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì‹œ í™œìš©

**Repository ë ˆì´ì–´** (ì„œë²„ì‚¬ì´ë“œ):

```typescript
// src/app/boards/_repositories/boards.repository.ts
import { createServerSupabaseClient } from "@/lib/supabase/server";

export class BoardsRepository {
  async getBoards(): Promise<Board[]> {
    const supabase = await createServerSupabaseClient();
    const { data, error } = await supabase
      .from("boards")
      .select("*")
      .eq("is_active", true)
      .order("id");

    if (error) throw new Error(error.message);
    return data;
  }

  async getBoardWithCategories(boardId: number): Promise<BoardWithCategories> {
    const supabase = await createServerSupabaseClient();
    const { data, error } = await supabase
      .from("boards")
      .select(
        `
        *,
        board_categories (*)
      `,
      )
      .eq("id", boardId)
      .single();

    if (error) throw new Error(error.message);
    return data;
  }
}
```

**API Client ë ˆì´ì–´** (ë¸Œë¼ìš°ì €):

```typescript
// src/app/boards/_api-clients/boards.client.ts
const API_BASE =
  process.env.NEXT_PUBLIC_API_MODE === "spring" ? process.env.NEXT_PUBLIC_SPRING_API_URL : "/api";

export class BoardsApiClient {
  async getBoards(): Promise<Board[]> {
    const response = await fetch(`${API_BASE}/boards`);
    if (!response.ok) throw new Error("Failed to fetch boards");
    return response.json();
  }

  async getBoardWithCategories(boardId: number): Promise<BoardWithCategories> {
    const response = await fetch(`${API_BASE}/boards/${boardId}`);
    if (!response.ok) throw new Error("Failed to fetch board");
    return response.json();
  }
}
```

**Hooks ë ˆì´ì–´**:

```typescript
// src/app/boards/_hooks/useBoards.ts
"use client";

import { useState, useEffect } from "react";
import { boardsClient } from "@/api-clients";

export function useBoards() {
  const [boards, setBoards] = useState<Board[]>([]);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const data = await boardsClient.getBoards();
        setBoards(data);
      } finally {
        setIsLoading(false);
      }
    };

    void fetchData();
  }, []);

  return { boards, isLoading };
}
```

---

## ğŸ“Š ê¶Œí•œ ë ˆë²¨ ë§¤íŠ¸ë¦­ìŠ¤

| Level | ì˜ë¯¸        | ë¹„ê³            |
| ----- | ----------- | -------------- |
| 1     | ë¹„íšŒì›      | ëª¨ë‘ ì ‘ê·¼ ê°€ëŠ¥ |
| 2     | ì¼ë°˜ íšŒì›   | íšŒì› ê°€ì… í•„ìš” |
| 3     | ë ˆë²¨ 3 íšŒì› | í™œë™ëŸ‰ ê¸°ì¤€    |
| 4     | ë ˆë²¨ 4 íšŒì› | ì¤‘ê¸‰ íšŒì›      |
| 5     | ë ˆë²¨ 5 íšŒì› | ê³ ê¸‰ íšŒì›      |
| 99    | ê´€ë¦¬ì      | ìš´ì˜ì§„ ì „ìš©    |

---

## ğŸ¨ visibility íƒ€ì…ë³„ íŠ¹ì§•

| Type      | ì˜ë¯¸   | ëª©ë¡ í‘œì‹œ     | ì ‘ê·¼ ê¶Œí•œ                | ì‚¬ìš© ì¼€ì´ìŠ¤           |
| --------- | ------ | ------------- | ------------------------ | --------------------- |
| `public`  | ê³µê°œ   | ëª¨ë‘ í‘œì‹œ     | permission_settings ê¸°ì¤€ | ì¼ë°˜ ê²Œì‹œíŒ           |
| `private` | ë¹„ê³µê°œ | ê¶Œí•œìë§Œ í‘œì‹œ | permission_settings ê¸°ì¤€ | íšŒì› ì „ìš© ê²Œì‹œíŒ      |
| `hidden`  | ìˆ¨ê¹€   | ê¶Œí•œìë§Œ í‘œì‹œ | permission_settings ê¸°ì¤€ | VIP ì „ìš©, ê´€ë¦¬ì ì „ìš© |

---

## ğŸ”„ ì‹ ê·œ ì»¤ë®¤ë‹ˆí‹° ê°œë°œ ì‹œ í™œìš© ë°©ë²•

### Step 1: í•„ìš”í•œ Boardë§Œ ì„ íƒ

```sql
-- ì˜ˆ: ê³µì§€ì‚¬í•­ + ììœ ê²Œì‹œíŒ + ê°¤ëŸ¬ë¦¬ë§Œ ì‚¬ìš©
-- IDë¥¼ ì»¤ë®¤ë‹ˆí‹°ì— ë§ê²Œ ì¬ì¡°ì •
INSERT INTO boards (id, name, ...) VALUES (1, 'ê³µì§€ì‚¬í•­', ...);
INSERT INTO boards (id, name, ...) VALUES (2, 'ììœ ê²Œì‹œíŒ', ...);
INSERT INTO boards (id, name, ...) VALUES (3, 'ê°¤ëŸ¬ë¦¬', ...);
```

### Step 2: ê¶Œí•œ/í¬ì¸íŠ¸ ì •ì±… ì»¤ìŠ¤í„°ë§ˆì´ì§•

```sql
-- í¬ì¸íŠ¸ ì •ì±… ì¡°ì • ì˜ˆì‹œ
UPDATE boards SET point_settings = jsonb_build_object(
  'write_post', 30,  -- ê¸€ ì‘ì„± í¬ì¸íŠ¸ ìƒí–¥
  'write_comment', 10  -- ëŒ“ê¸€ í¬ì¸íŠ¸ ìƒí–¥
) WHERE id = 2;
```

### Step 3: ì¹´í…Œê³ ë¦¬ ì»¤ìŠ¤í„°ë§ˆì´ì§•

```sql
-- ì»¤ë®¤ë‹ˆí‹° ì„±ê²©ì— ë§ê²Œ ì¹´í…Œê³ ë¦¬ ë³€ê²½
DELETE FROM board_categories WHERE board_id = 300;

INSERT INTO board_categories (board_id, name, description, display_order)
VALUES
  (300, 'ì»¤ë®¤ë‹ˆí‹°ì—_ë§ëŠ”_ì¹´í…Œê³ ë¦¬1', 'ì„¤ëª…1', 1),
  (300, 'ì»¤ë®¤ë‹ˆí‹°ì—_ë§ëŠ”_ì¹´í…Œê³ ë¦¬2', 'ì„¤ëª…2', 2);
```

---

## ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

ìƒˆ ì»¤ë®¤ë‹ˆí‹° ê°œë°œ ì‹œ í™•ì¸ ì‚¬í•­:

- [ ] **ê¶Œí•œ ë ˆë²¨** ì •ì˜ ì™„ë£Œ (ë¹„íšŒì›/íšŒì›/ë ˆë²¨ë³„)
- [ ] **í¬ì¸íŠ¸ ì •ì±…** ì„¤ê³„ ì™„ë£Œ (í™œë™ë³„ í¬ì¸íŠ¸ ë¶€ì—¬)
- [ ] **íŒŒì¼ ì—…ë¡œë“œ ì •ì±…** ì •ì˜ (í¬ê¸°/íƒ€ì…/ê°œìˆ˜ ì œí•œ)
- [ ] **ì¹´í…Œê³ ë¦¬ êµ¬ì¡°** ì„¤ê³„ (í•„ìš”í•œ ê²½ìš°)
- [ ] **ê¸ˆì§€ì–´ ëª©ë¡** ì •ì˜ (í•„ìš”í•œ ê²½ìš°)
- [ ] **visibility íƒ€ì…** ì„ íƒ (public/private/hidden)
- [ ] **ê¸°ëŠ¥ ì„¤ì •** í™•ì • (ë¹„ë°€ê¸€/ëŒ“ê¸€/ì—ë””í„°/íŒŒì¼ì—…ë¡œë“œ)

---

## ğŸ”— ì°¸ê³  ë¬¸ì„œ

- **core-supabase ìŠ¤í‚¤ë§ˆ**: `docker/volumes/db/init/schemas/04-boards.sql`
- **DDD Architecture**: [docs/architecture/DDD-ARCHITECTURE.md](../architecture/DDD-ARCHITECTURE.md)
- **Domain Structure**: [docs/architecture/DOMAIN-STRUCTURE.md](../architecture/DOMAIN-STRUCTURE.md)
- **CLAUDE.md**: í”„ë¡œì íŠ¸ ì „ì²´ ì•„í‚¤í…ì²˜ ê°€ì´ë“œ

---

## ğŸ’¡ Tips

1. **ID ì²´ê³„**: ê° ê²Œì‹œíŒ íƒ€ì…ë³„ë¡œ 100 ë‹¨ìœ„ë¡œ ID í• ë‹¹ (ê³µì§€ 100, ììœ  200, ...)
2. **ì¹´í…Œê³ ë¦¬ display_order**: 99ë¥¼ 'ê¸°íƒ€' ì¹´í…Œê³ ë¦¬ë¡œ ì‚¬ìš©í•˜ë©´ í•­ìƒ ë§ˆì§€ë§‰ì— í‘œì‹œ
3. **í¬ì¸íŠ¸ ë°¸ëŸ°ìŠ¤**: ë‹¤ìš´ë¡œë“œëŠ” ë§ˆì´ë„ˆìŠ¤, ì—…ë¡œë“œëŠ” í”ŒëŸ¬ìŠ¤ë¡œ ê· í˜• ìœ ì§€
4. **íŒŒì¼ í¬ê¸°**: ì¼ë°˜(5MB) â†’ ì¤‘ê°„(10MB) â†’ ëŒ€ìš©ëŸ‰(50MB) â†’ VIP(100MB)
5. **ê¶Œí•œ ë ˆë²¨**: ë‹¨ê³„ë³„ë¡œ ì˜¬ë¼ê°€ë©° ê¶Œí•œ í™•ëŒ€í•˜ëŠ” êµ¬ì¡° ê¶Œì¥

---

**ë¬¸ì„œ ì‘ì„±ì¼**: 2024-11-09
**ì‘ì„±ì**: Sarah (Product Owner - Claude Code)
**ë²„ì „**: 1.0
